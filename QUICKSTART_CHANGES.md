# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:

```bash
npm install
```

### –®–∞–≥ 2: –°–æ–±–µ—Ä–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª–∏–∞–ª–æ–≤

```bash
npm run run:once
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `data/branches.json` —Å–æ –≤—Å–µ–º–∏ —Ñ–∏–ª–∏–∞–ª–∞–º–∏ –∏ –∏—Ö `changesUrl`.

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ 24 —á–∞—Å–∞

```bash
npm run check:recent
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π —Ñ–∏–ª–∏–∞–ª –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
- üíæ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `branches.json` –°–†–ê–ó–£ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞** (–ø–æ—Ç–æ–∫–æ–≤–æ)
- üî• –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª–∏–∞–ª–æ–≤ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- ‚ö° –ë—ã—Å—Ç—Ä–µ–µ, —á–µ–º –ø–æ–ª–Ω—ã–π —Å–±–æ—Ä –∏—Å—Ç–æ—Ä–∏–∏

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ –≤ `branches.json` –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```json
{
  "id": "1484809282",
  "name": "–†–æ—Å–ê–ª 24",
  "address": "–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥–Ω—ã–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ë–∞–π–∫–æ–Ω—É—Ä—Å–∫–∞—è —É–ª–∏—Ü–∞, 13, –∫–æ—Ä–ø. 2",
  "status": "–†–∞–±–æ—Ç–∞–µ—Ç",
  "url": "/sprav/1484809282/p/edit/main",
  "changesUrl": "https://yandex.ru/sprav/1484809282/p/edit/changes/",
  "hasRecentChanges": true,
  "recentChangesCount": 2,
  "lastChangeTime": "17-09-2025 ¬∑ 02:05"
}
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∑–∞ 24 —á–∞—Å–∞:

```bash
npm run fetch:changes
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `data/branches-changes.json` —Å –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤—Å–µ—Ö —Ñ–∏–ª–∏–∞–ª–æ–≤.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ –≤ `branches-changes.json`:**
```json
{
  "branchId": "200244063872",
  "changesUrl": "https://yandex.ru/sprav/200244063872/p/edit/changes/",
  "totalChanges": 2,
  "changes": [
    {
      "title": "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞",
      "oldValue": "–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥–Ω—ã–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ü–µ—Ç—Ä–æ–¥–≤–æ—Ä—Ü–æ–≤—ã–π —Ä–∞–π–æ–Ω, –õ–æ–º–æ–Ω–æ—Å–æ–≤, –û—Ä–∞–Ω–∏–µ–Ω–±–∞—É–º—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 41, –∫–æ—Ä–ø. 1",
      "newValue": "–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥–Ω—ã–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ü–µ—Ç—Ä–æ–¥–≤–æ—Ä—Ü–æ–≤—ã–π —Ä–∞–π–æ–Ω, –õ–æ–º–æ–Ω–æ—Å–æ–≤, –û—Ä–∞–Ω–∏–µ–Ω–±–∞—É–º—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 41, –∫–æ—Ä–ø. 1; —ç—Ç–∞–∂ —Ü–æ–∫–æ–ª—å–Ω—ã–π",
      "timestamp": "27-10-2025 ¬∑ 02:29",
      "author": "ya.robot"
    },
    {
      "title": "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç",
      "oldValue": "[–ü—Ä–µ–∂–Ω–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ]",
      "newValue": "[–ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ]",
      "timestamp": "18-05-2025 ¬∑ 21:49",
      "author": "ya.robot"
    }
  ]
}
```

## –®–∞–≥ 4: –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–µ–¥–µ—Ç:
- ‚úÖ –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º
- üèÜ –¢–æ–ø-5 —Ñ–∏–ª–∏–∞–ª–æ–≤ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìù –ü—Ä–∏–º–µ—Ä—ã –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–í —Ñ–∞–π–ª–µ `src/fetch-changes.ts` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

```typescript
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 3 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞
const limit = pLimit(3);

// –î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 5-10 (–Ω–æ –µ—Å—Ç—å —Ä–∏—Å–∫ –∫–∞–ø—á–∏)
const limit = pLimit(5);
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ SmartCaptcha:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `BROWSER_HEADLESS=false` –≤ `.env`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞
3. –í—Ä—É—á–Ω—É—é –ø—Ä–æ–π–¥–∏—Ç–µ –∫–∞–ø—á—É –≤ –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è –±—Ä–∞—É–∑–µ—Ä–µ

## –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä

–î–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–æ–±–∞–≤—å—Ç–µ –≤ cron:

```bash
# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00 —É—Ç—Ä–∞
0 3 * * * cd /path/to/project && npm run fetch:changes
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å–≤–æ–∏—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö:

```typescript
import { fetchBranchChangeHistory } from './src/yandex.js';

const history = await fetchBranchChangeHistory(
  'https://yandex.ru/sprav/200244063872/p/edit/changes/',
  '200244063872'
);

console.log(`–ù–∞–π–¥–µ–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π: ${history.totalChanges}`);
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: [CHANGES_PARSING.md](CHANGES_PARSING.md)

